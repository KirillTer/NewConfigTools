"use strict";
var logger_1 = require("../core/logger");
var utils_1 = require("../utils/utils");
var action_types_1 = require("../constants/action_types");
var logger_actions_1 = require("./logger_actions");
var selectable_kernel_1 = require("../core/selectable_kernel");
var resize = utils_1.makeActionCreator(action_types_1.default.RESIZE, "width", "height");
exports.resize = resize;
var appInitSuccess = utils_1.makeActionCreator(action_types_1.default.APP_INIT_SUCCESS, "__inversifyDevtools__");
exports.appInitSuccess = appInitSuccess;
var kernelConnectSucess = utils_1.makeActionCreator(action_types_1.default.KERNEL_CONNECT_SUCCESS, "kernel");
var initSettings = utils_1.makeActionCreator(action_types_1.default.APP_SETTINGS_SUCCESS, "settings");
function appInitAsync() {
    return function (dispatch) {
        var __inversifyDevtools__ = function (kernel) {
            var logger = logger_1.getLogger(logger_actions_1.default.addLogEntry, initSettings, dispatch);
            kernel.applyMiddleware(logger);
            var selectableKernel = new selectable_kernel_1.default(kernel);
            dispatch(kernelConnectSucess(selectableKernel));
        };
        dispatch(appInitSuccess(__inversifyDevtools__));
    };
}
exports.appInitAsync = appInitAsync;
