/**
 * inversify-logger-middleware v.1.0.1 - A basic logger middleware for InversifyJS
 * Copyright (c) 2015 Remo H. Jansen <remo.jansen@wolksoftware.com> (http://www.remojansen.com)
 * MIT inversify.io/LICENSE
 * https://github.com/inversify/inversify-logger-middleware#readme
 */
import { getIndentationForDepth, makePropertyLogger } from "./text_serializer_utils";
import bindingTypeFormatter from "../../formatters/binding_type_formatter";
import scopeFormatter from "../../formatters/scope_formatter";
function serializeBinding(textEntry, depth, binding) {
    var indentation = getIndentationForDepth(depth);
    var propertyLogger = makePropertyLogger(indentation);
    var props = [
        "type", "serviceIdentifier", "implementationType",
        "activated", "cache", "constraint", "dynamicValue",
        "factory", "onActivation", "provider", "scope"
    ];
    var _b = binding;
    props.forEach(function (prop) {
        if (_b[prop] !== undefined) {
            var val = _b[prop];
            switch (prop) {
                case "type":
                    val = bindingTypeFormatter(_b[prop]);
                    break;
                case "scope":
                    val = scopeFormatter(_b[prop]);
                    break;
                case "implementationType":
                    val = _b[prop].name;
                    break;
                default:
                    val = _b[prop];
            }
            textEntry = propertyLogger(textEntry, 3, prop, val);
        }
    });
    return textEntry;
}
export default serializeBinding;
